<!DOCTYPE html>
<html>

    <head>
        <title> Data Analysis of used cars on eBay &middot; Patrick Alves - ML Engineer </title>

        <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.79.1" />




<script src="https://code.jquery.com/jquery-3.1.1.min.js"   integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="   crossorigin="anonymous"></script>


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>


<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">


<link rel="stylesheet" href="https://cpatrickalves.github.io/css/nix.css">



<link rel="shortcut icon" href="/profile.ico">



<link href="https://fonts.googleapis.com/css?family=Inconsolata%7COpen+Sans%7CConcert+One" rel="stylesheet">



<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
				  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-186704979-1', 'auto');
	  ga('send', 'pageview');

</script>




    </head>

    <body>
        <header>
<nav class="navbar navbar-default navbar-fixed-top navbar-inverse font-header">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-1" aria-expanded="false">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
      <a class="navbar-brand" id="green-terminal" href='https://cpatrickalves.github.io/'>
        patrick@machinelearning ~ $
      </a>
		</div>

		
		<div class="collapse navbar-collapse" id="navbar-collapse-1">
			<ul class="nav navbar-nav navbar-right">
				<li>
					<a href='https://cpatrickalves.github.io/'>/home/patrick</a>
        </li>
        
				
				
				<li class="dropdown">
                    
            		<a href="https://cpatrickalves.github.io/about">~/about</a>
            		
        		</li>
        		
				
				<li class="dropdown">
                    
            		<a href="https://cpatrickalves.github.io/projects">~/portfolio</a>
            		
        		</li>
        		
				
				<li class="dropdown">
                    
            		<a href="https://cpatrickalves.github.io/post">~/blog</a>
            		
        		</li>
        		
				
				<li class="dropdown">
                    
            		<a href="https://cpatrickalves.github.io/contact">~/contact</a>
            		
        		</li>
        		

			</ul>
		</div>
	</div>
</nav>
</header>

        <div class="flex-wrapper">
            <div class="container wrapper">
                <h1><a href="https://cpatrickalves.github.io/projects/ebay-cars-data-analysis/">Data Analysis of used cars on eBay</a></h1>
                <span class="post-date">2018-12-12 </span>
                <div class="post-content">
                    <p>This project presents an exploratory data analysis of a database provided by <a href="https://www.kaggle.com">Kaggle</a>.</p>
<p>The dataset contains over 370,000 used cars scraped from eBay Kleinanzeigen.</p>
<p>The dataset can be downloaded from <a href="https://www.kaggle.com/orgesleka/used-cars-database">https://www.kaggle.com/orgesleka/used-cars-database</a></p>
<p>The analysis was drive by several questions, that were answered through tables or graphs.</p>
<h3 id="problem">Problem</h3>
<p>Answers questions about cars sold on eBay Kleinanzeigen.</p>
<p><strong>Questions:</strong></p>
<ol>
<li><em>What is the distribution of vehicles by the year of registration?</em></li>
<li><em>What is the Variation of the price range by type of vehicle?</em></li>
<li><em>What is the number of vehicles for selling by type of vehicle?</em></li>
<li><em>How many vehicles belong to each brand?</em></li>
<li><em>What is the average vehicle price based on the type of vehicle and the type of gearbox?</em></li>
<li><em>What are the average vehicle price based on the type of fuel and the type of gearbox?</em></li>
<li><em>What is the average power of a vehicle by type of vehicle and type of gearbox?</em></li>
<li><em>What is the average price of a vehicle by brand and type of vehicle?</em></li>
</ol>
<h3 id="solution">Solution</h3>
<p>Perform an Exploratory Data Analysis (EDA) to answer the above questions.</p>
<h3 id="results">Results</h3>
<p>All the questions were answered from the EDA using Python, Pandas, Matplotlib, and Seaborn.</p>
<hr>
<h3 id="source-code">Source code</h3>
<p>The solution is also available at Github.</p>
<p><a href="https://github.com/cpatrickalves/eda-ebay-cars"><img src="/github.jpg" alt="GitHub"></a></p>
<h4 id="how-to-use">How to use</h4>
<ul>
<li>
<p>You will need Python 3.5+ to run the code.</p>
</li>
<li>
<p>Python can be downloaded <a href="https://www.python.org/downloads/">here</a>.</p>
</li>
<li>
<p>You have to install some Python packages, in command prompt/Terminal: <code>pip install jupyter-lab numpy pandas seaborn matplotlib</code></p>
</li>
<li>
<p>Once you have installed the required packages, just clone/download this project:
<code>git clone https://github.com/cpatrickalves/eda-ebay-cars.git</code></p>
</li>
<li>
<p>Access the project folder in command prompt/Terminal and run the following command:
<code>jupyter-lab</code></p>
</li>
<li>
<p>Then open the <strong>data-analysis.ipynb</strong> file.</p>
</li>
</ul>
<h1 id="data-analysis-of-used-cars-from-ebay-kleinanzeigen">Data Analysis of used cars from eBay Kleinanzeigen</h1>
<p>Above the EDA is presented with the source code used to perform the data pre-processing, data transformation, and image generation.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># Imports</span>
<span style="color:#f92672">import</span> os
<span style="color:#f92672">import</span> subprocess
<span style="color:#f92672">import</span> stat
<span style="color:#f92672">import</span> numpy <span style="color:#f92672">as</span> np
<span style="color:#f92672">import</span> pandas <span style="color:#f92672">as</span> pd
<span style="color:#f92672">import</span> seaborn <span style="color:#f92672">as</span> sns
<span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#f92672">as</span> plt
<span style="color:#f92672">from</span> datetime <span style="color:#f92672">import</span> datetime
sns<span style="color:#f92672">.</span>set(style<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;white&#34;</span>)
<span style="color:#f92672">%</span>matplotlib inline
<span style="color:#f92672">import</span> warnings
warnings<span style="color:#f92672">.</span>filterwarnings(<span style="color:#e6db74">&#34;ignore&#34;</span>)
</code></pre></div><h2 id="data-preparation">Data Preparation</h2>
<p>First, let&rsquo;s load the database and see how it looks.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># Loading the dataset</span>
dataset <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(<span style="color:#e6db74">&#39;dataset/autos.csv&#39;</span>, encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;latin-1&#39;</span>)
<span style="color:#75715e"># Print the first 10 rows</span>
dataset<span style="color:#f92672">.</span>head(<span style="color:#ae81ff">10</span>)
</code></pre></div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>dateCrawled</th>
      <th>name</th>
      <th>seller</th>
      <th>offerType</th>
      <th>price</th>
      <th>abtest</th>
      <th>vehicleType</th>
      <th>yearOfRegistration</th>
      <th>gearbox</th>
      <th>powerPS</th>
      <th>...</th>
      <th>postalCode</th>
      <th>lastSeen</th>
      <th>yearOfCreation</th>
      <th>yearCrawled</th>
      <th>monthOfCreation</th>
      <th>monthCrawled</th>
      <th>NoOfDaysOnline</th>
      <th>NoOfHrsOnline</th>
      <th>yearsOld</th>
      <th>monthsOld</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2016-03-24 11:52:17</td>
      <td>Golf_3_1.6</td>
      <td>privat</td>
      <td>Offer</td>
      <td>480</td>
      <td>test</td>
      <td>Other</td>
      <td>1993</td>
      <td>manuell</td>
      <td>0</td>
      <td>...</td>
      <td>70435</td>
      <td>2016-04-07 03:16:57</td>
      <td>2016</td>
      <td>2016</td>
      <td>March</td>
      <td>March</td>
      <td>14</td>
      <td>3</td>
      <td>23</td>
      <td>11</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2016-03-24 10:58:45</td>
      <td>A5_Sportback_2.7_Tdi</td>
      <td>privat</td>
      <td>Offer</td>
      <td>18300</td>
      <td>test</td>
      <td>coupe</td>
      <td>2011</td>
      <td>manuell</td>
      <td>190</td>
      <td>...</td>
      <td>66954</td>
      <td>2016-04-07 01:46:50</td>
      <td>2016</td>
      <td>2016</td>
      <td>March</td>
      <td>March</td>
      <td>14</td>
      <td>1</td>
      <td>5</td>
      <td>7</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2016-03-14 12:52:21</td>
      <td>Jeep_Grand_Cherokee_"Overland"</td>
      <td>privat</td>
      <td>Offer</td>
      <td>9800</td>
      <td>test</td>
      <td>suv</td>
      <td>2004</td>
      <td>automatik</td>
      <td>163</td>
      <td>...</td>
      <td>90480</td>
      <td>2016-04-05 12:47:46</td>
      <td>2016</td>
      <td>2016</td>
      <td>March</td>
      <td>March</td>
      <td>22</td>
      <td>12</td>
      <td>12</td>
      <td>4</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2016-03-17 16:54:04</td>
      <td>GOLF_4_1_4__3TÃRER</td>
      <td>privat</td>
      <td>Offer</td>
      <td>1500</td>
      <td>test</td>
      <td>kleinwagen</td>
      <td>2001</td>
      <td>manuell</td>
      <td>75</td>
      <td>...</td>
      <td>91074</td>
      <td>2016-03-17 17:40:17</td>
      <td>2016</td>
      <td>2016</td>
      <td>March</td>
      <td>March</td>
      <td>0</td>
      <td>17</td>
      <td>15</td>
      <td>5</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2016-03-31 17:25:20</td>
      <td>Skoda_Fabia_1.4_TDI_PD_Classic</td>
      <td>privat</td>
      <td>Offer</td>
      <td>3600</td>
      <td>test</td>
      <td>kleinwagen</td>
      <td>2008</td>
      <td>manuell</td>
      <td>69</td>
      <td>...</td>
      <td>60437</td>
      <td>2016-04-06 10:17:21</td>
      <td>2016</td>
      <td>2016</td>
      <td>March</td>
      <td>March</td>
      <td>6</td>
      <td>10</td>
      <td>8</td>
      <td>5</td>
    </tr>
    <tr>
      <th>5</th>
      <td>2016-04-04 17:36:23</td>
      <td>BMW_316i___e36_Limousine___Bastlerfahrzeug__Ex...</td>
      <td>privat</td>
      <td>Offer</td>
      <td>650</td>
      <td>test</td>
      <td>limousine</td>
      <td>1995</td>
      <td>manuell</td>
      <td>102</td>
      <td>...</td>
      <td>33775</td>
      <td>2016-04-06 19:17:07</td>
      <td>2016</td>
      <td>2016</td>
      <td>April</td>
      <td>April</td>
      <td>2</td>
      <td>19</td>
      <td>21</td>
      <td>2</td>
    </tr>
    <tr>
      <th>6</th>
      <td>2016-04-01 20:48:51</td>
      <td>Peugeot_206_CC_110_Platinum</td>
      <td>privat</td>
      <td>Offer</td>
      <td>2200</td>
      <td>test</td>
      <td>cabrio</td>
      <td>2004</td>
      <td>manuell</td>
      <td>109</td>
      <td>...</td>
      <td>67112</td>
      <td>2016-04-05 18:18:39</td>
      <td>2016</td>
      <td>2016</td>
      <td>April</td>
      <td>April</td>
      <td>4</td>
      <td>18</td>
      <td>12</td>
      <td>4</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2016-03-21 18:54:38</td>
      <td>VW_Derby_Bj_80__Scheunenfund</td>
      <td>privat</td>
      <td>Offer</td>
      <td>0</td>
      <td>test</td>
      <td>limousine</td>
      <td>1980</td>
      <td>manuell</td>
      <td>50</td>
      <td>...</td>
      <td>19348</td>
      <td>2016-03-25 16:47:58</td>
      <td>2016</td>
      <td>2016</td>
      <td>March</td>
      <td>March</td>
      <td>4</td>
      <td>16</td>
      <td>36</td>
      <td>5</td>
    </tr>
    <tr>
      <th>8</th>
      <td>2016-03-17 10:53:50</td>
      <td>VW_Golf_4_5_tuerig_zu_verkaufen_mit_Anhaengerk...</td>
      <td>privat</td>
      <td>Offer</td>
      <td>999</td>
      <td>test</td>
      <td>kleinwagen</td>
      <td>1998</td>
      <td>manuell</td>
      <td>101</td>
      <td>...</td>
      <td>27472</td>
      <td>2016-03-31 17:17:06</td>
      <td>2016</td>
      <td>2016</td>
      <td>March</td>
      <td>March</td>
      <td>14</td>
      <td>17</td>
      <td>18</td>
      <td>11</td>
    </tr>
    <tr>
      <th>9</th>
      <td>2016-03-26 19:54:18</td>
      <td>Mazda_3_1.6_Sport</td>
      <td>privat</td>
      <td>Offer</td>
      <td>2000</td>
      <td>control</td>
      <td>limousine</td>
      <td>2004</td>
      <td>manuell</td>
      <td>105</td>
      <td>...</td>
      <td>96224</td>
      <td>2016-04-06 10:45:34</td>
      <td>2016</td>
      <td>2016</td>
      <td>March</td>
      <td>March</td>
      <td>11</td>
      <td>10</td>
      <td>12</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>10 rows × 27 columns</p>
</div>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># Print the size of dataset</span>
<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;Number of columns: {}&#39;</span><span style="color:#f92672">.</span>format(dataset<span style="color:#f92672">.</span>shape[<span style="color:#ae81ff">1</span>]))
<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;Number of rows: {}&#39;</span><span style="color:#f92672">.</span>format(dataset<span style="color:#f92672">.</span>shape[<span style="color:#ae81ff">0</span>]))
</code></pre></div><pre><code>Number of columns: 27
Number of rows: 313687
</code></pre>
<p>So, the database has 27 columns and 313,687 rows. Let&rsquo;s check each one of the columns and the data types.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># Column names and data type (string, int, float, etc.)</span>
dataset<span style="color:#f92672">.</span>dtypes
</code></pre></div><pre><code>dateCrawled            object
name                   object
seller                 object
offerType              object
price                   int64
abtest                 object
vehicleType            object
yearOfRegistration      int64
gearbox                object
powerPS                 int64
model                  object
kilometer               int64
monthOfRegistration    object
fuelType               object
brand                  object
notRepairedDamage      object
dateCreated            object
postalCode              int64
lastSeen               object
yearOfCreation          int64
yearCrawled             int64
monthOfCreation        object
monthCrawled           object
NoOfDaysOnline          int64
NoOfHrsOnline           int64
yearsOld                int64
monthsOld               int64
dtype: object
</code></pre>
<p>The only columns with a wrong data type are the <em>dataCrawled</em>, <em>dateCreated</em> and <em>lastSeen</em>, let&rsquo;s convert than to the date data type and set the <em>dataCrawled</em> columns as the DataFrame index.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># Change the data type</span>
dataset<span style="color:#f92672">.</span>dateCrawled <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>to_datetime(dataset<span style="color:#f92672">.</span>dateCrawled)
dataset<span style="color:#f92672">.</span>lastSeen <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>to_datetime(dataset<span style="color:#f92672">.</span>lastSeen)
dataset<span style="color:#f92672">.</span>dateCreated <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>to_datetime(dataset<span style="color:#f92672">.</span>dateCreated)

<span style="color:#75715e"># Set the date as the DataFrame index</span>
dataset<span style="color:#f92672">.</span>set_index(<span style="color:#e6db74">&#39;dateCrawled&#39;</span>, inplace<span style="color:#f92672">=</span>True)

<span style="color:#75715e"># Sort the DataFrame by the index</span>
dataset<span style="color:#f92672">.</span>sort_index(inplace<span style="color:#f92672">=</span>True)
</code></pre></div><p>Now, let&rsquo;s see the start and end date of the crawl process, and how many days it took to finish:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#39; Start date: {dataset.index[0]}&#39;</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#39; End date: {dataset.index[-1]}&#39;</span>)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#39; Total days: {dataset.index[-1] - dataset.index[0]}&#39;</span>)
</code></pre></div><pre><code> Start date: 2016-03-05 14:06:22
 End date: 2016-04-07 14:36:58
 Total days: 33 days 00:30:36
</code></pre>
<h3 id="data-cleaning">Data Cleaning</h3>
<p>Now, let&rsquo;s see if there is any missing value, duplicate values or any variable that need to be transformed.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># Checking missing values</span>
dataset<span style="color:#f92672">.</span>isnull()<span style="color:#f92672">.</span>any()
</code></pre></div><pre><code>name                   False
seller                 False
offerType              False
price                  False
abtest                 False
vehicleType            False
yearOfRegistration     False
gearbox                False
powerPS                False
model                  False
kilometer              False
monthOfRegistration    False
fuelType                True
brand                  False
notRepairedDamage      False
dateCreated            False
postalCode             False
lastSeen               False
yearOfCreation         False
yearCrawled            False
monthOfCreation        False
monthCrawled           False
NoOfDaysOnline         False
NoOfHrsOnline          False
yearsOld               False
monthsOld              False
dtype: bool
</code></pre>
<p>The <em>fuelType</em> column has missing values, let&rsquo;s take a closer look and see how many.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">dataset<span style="color:#f92672">.</span>fuelType<span style="color:#f92672">.</span>isnull()<span style="color:#f92672">.</span>sum()
</code></pre></div><pre><code>189
</code></pre>
<p>There is 189 missing values for <em>fuelType</em> column. As the fuelType will be important for the analysis, let&rsquo;s remove the rows with the missing data.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">dataset <span style="color:#f92672">=</span> dataset[dataset<span style="color:#f92672">.</span>fuelType<span style="color:#f92672">.</span>notnull()]
</code></pre></div><p>Now let&rsquo;s see if there is any duplicate value in the dataset.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">dataset<span style="color:#f92672">.</span>duplicated()<span style="color:#f92672">.</span>sum()
</code></pre></div><pre><code>25
</code></pre>
<p>There are 25 duplicated rows in the dataset, let&rsquo;s see some of then.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># print the first 10 duplicated rows</span>
dataset[dataset<span style="color:#f92672">.</span>duplicated(keep<span style="color:#f92672">=</span>False)]<span style="color:#f92672">.</span>head(<span style="color:#ae81ff">10</span>)
</code></pre></div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>seller</th>
      <th>offerType</th>
      <th>price</th>
      <th>abtest</th>
      <th>vehicleType</th>
      <th>yearOfRegistration</th>
      <th>gearbox</th>
      <th>powerPS</th>
      <th>model</th>
      <th>...</th>
      <th>postalCode</th>
      <th>lastSeen</th>
      <th>yearOfCreation</th>
      <th>yearCrawled</th>
      <th>monthOfCreation</th>
      <th>monthCrawled</th>
      <th>NoOfDaysOnline</th>
      <th>NoOfHrsOnline</th>
      <th>yearsOld</th>
      <th>monthsOld</th>
    </tr>
    <tr>
      <th>dateCrawled</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2016-03-05 14:26:01</th>
      <td>BMW_BMW_320d___Navi___Xenon__Leder__Voll._/_M_...</td>
      <td>privat</td>
      <td>Offer</td>
      <td>11500</td>
      <td>test</td>
      <td>limousine</td>
      <td>2006</td>
      <td>manuell</td>
      <td>163</td>
      <td>3er</td>
      <td>...</td>
      <td>57539</td>
      <td>2016-03-21 19:16:43</td>
      <td>2016</td>
      <td>2016</td>
      <td>March</td>
      <td>March</td>
      <td>16</td>
      <td>19</td>
      <td>10</td>
      <td>5</td>
    </tr>
    <tr>
      <th>2016-03-05 14:26:55</th>
      <td>BMW_BMW_320d___Navi___Xenon__Leder__Voll._/_M_...</td>
      <td>privat</td>
      <td>Offer</td>
      <td>11500</td>
      <td>test</td>
      <td>limousine</td>
      <td>2006</td>
      <td>manuell</td>
      <td>163</td>
      <td>3er</td>
      <td>...</td>
      <td>57539</td>
      <td>2016-03-21 19:16:43</td>
      <td>2016</td>
      <td>2016</td>
      <td>March</td>
      <td>March</td>
      <td>16</td>
      <td>19</td>
      <td>10</td>
      <td>5</td>
    </tr>
    <tr>
      <th>2016-03-07 15:39:54</th>
      <td>Ford_Ka_+_TÃV_NEU_+_KLIMA</td>
      <td>privat</td>
      <td>Offer</td>
      <td>899</td>
      <td>control</td>
      <td>kleinwagen</td>
      <td>2001</td>
      <td>manuell</td>
      <td>60</td>
      <td>ka</td>
      <td>...</td>
      <td>52078</td>
      <td>2016-03-12 03:45:01</td>
      <td>2016</td>
      <td>2016</td>
      <td>March</td>
      <td>March</td>
      <td>5</td>
      <td>3</td>
      <td>15</td>
      <td>8</td>
    </tr>
    <tr>
      <th>2016-03-07 15:42:13</th>
      <td>Ford_Ka_+_TÃV_NEU_+_KLIMA</td>
      <td>privat</td>
      <td>Offer</td>
      <td>899</td>
      <td>control</td>
      <td>kleinwagen</td>
      <td>2001</td>
      <td>manuell</td>
      <td>60</td>
      <td>ka</td>
      <td>...</td>
      <td>52078</td>
      <td>2016-03-12 03:45:01</td>
      <td>2016</td>
      <td>2016</td>
      <td>March</td>
      <td>March</td>
      <td>5</td>
      <td>3</td>
      <td>15</td>
      <td>8</td>
    </tr>
    <tr>
      <th>2016-03-08 18:42:48</th>
      <td>Mercedes_Benz_CLK_Coupe_230_Kompressor_Sport</td>
      <td>privat</td>
      <td>Offer</td>
      <td>1799</td>
      <td>test</td>
      <td>coupe</td>
      <td>1999</td>
      <td>automatik</td>
      <td>193</td>
      <td>clk</td>
      <td>...</td>
      <td>89518</td>
      <td>2016-03-09 09:46:57</td>
      <td>2016</td>
      <td>2016</td>
      <td>March</td>
      <td>March</td>
      <td>1</td>
      <td>9</td>
      <td>17</td>
      <td>5</td>
    </tr>
    <tr>
      <th>2016-03-08 18:42:48</th>
      <td>Mercedes_Benz_CLK_Coupe_230_Kompressor_Sport</td>
      <td>privat</td>
      <td>Offer</td>
      <td>1799</td>
      <td>test</td>
      <td>coupe</td>
      <td>1999</td>
      <td>automatik</td>
      <td>193</td>
      <td>clk</td>
      <td>...</td>
      <td>89518</td>
      <td>2016-03-09 09:46:57</td>
      <td>2016</td>
      <td>2016</td>
      <td>March</td>
      <td>March</td>
      <td>1</td>
      <td>9</td>
      <td>17</td>
      <td>5</td>
    </tr>
    <tr>
      <th>2016-03-10 09:57:22</th>
      <td>Opel_Cora_B_TÃV_neu_bis_2018_!!FESTPREIS!!</td>
      <td>privat</td>
      <td>Offer</td>
      <td>700</td>
      <td>test</td>
      <td>kleinwagen</td>
      <td>1997</td>
      <td>manuell</td>
      <td>56</td>
      <td>corsa</td>
      <td>...</td>
      <td>13409</td>
      <td>2016-03-12 12:44:16</td>
      <td>2016</td>
      <td>2016</td>
      <td>March</td>
      <td>March</td>
      <td>2</td>
      <td>12</td>
      <td>19</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2016-03-10 09:57:47</th>
      <td>Opel_Cora_B_TÃV_neu_bis_2018_!!FESTPREIS!!</td>
      <td>privat</td>
      <td>Offer</td>
      <td>700</td>
      <td>test</td>
      <td>kleinwagen</td>
      <td>1997</td>
      <td>manuell</td>
      <td>56</td>
      <td>corsa</td>
      <td>...</td>
      <td>13409</td>
      <td>2016-03-12 12:44:16</td>
      <td>2016</td>
      <td>2016</td>
      <td>March</td>
      <td>March</td>
      <td>2</td>
      <td>12</td>
      <td>19</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2016-03-10 16:57:26</th>
      <td>Opel_Corsa_1.0_12V</td>
      <td>privat</td>
      <td>Offer</td>
      <td>900</td>
      <td>control</td>
      <td>kleinwagen</td>
      <td>2002</td>
      <td>manuell</td>
      <td>58</td>
      <td>corsa</td>
      <td>...</td>
      <td>64521</td>
      <td>2016-03-22 08:46:55</td>
      <td>2016</td>
      <td>2016</td>
      <td>March</td>
      <td>March</td>
      <td>12</td>
      <td>8</td>
      <td>14</td>
      <td>7</td>
    </tr>
    <tr>
      <th>2016-03-10 17:39:03</th>
      <td>Opel_Corsa_1.0_12V</td>
      <td>privat</td>
      <td>Offer</td>
      <td>900</td>
      <td>control</td>
      <td>kleinwagen</td>
      <td>2002</td>
      <td>manuell</td>
      <td>58</td>
      <td>corsa</td>
      <td>...</td>
      <td>64521</td>
      <td>2016-03-22 08:46:55</td>
      <td>2016</td>
      <td>2016</td>
      <td>March</td>
      <td>March</td>
      <td>12</td>
      <td>8</td>
      <td>14</td>
      <td>7</td>
    </tr>
  </tbody>
</table>
<p>10 rows × 26 columns</p>
</div>
<p>Now, let&rsquo;s remove the duplicated rows:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">dataset<span style="color:#f92672">.</span>drop_duplicates(inplace<span style="color:#f92672">=</span>True)
<span style="color:#66d9ef">print</span>(f<span style="color:#e6db74">&#39;Number of rows: {dataset.shape[0]}&#39;</span>)
</code></pre></div><pre><code>Number of rows: 313473
</code></pre>
<p>That it&rsquo;s for the data cleaning step.
Now let&rsquo;s start the data analysis.</p>
<h2 id="questions">Questions</h2>
<p>The data analyses will be driven by several questions.</p>
<h3 id="1-what-is-the-distribution-of-vehicles-by-the-year-of-registration">1) What is the distribution of vehicles by the year of registration?</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># Creates a plot with the distribution of vehicules based on year of registration</span>
fig, ax <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>subplots(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">9</span>,<span style="color:#ae81ff">7</span>))
sns<span style="color:#f92672">.</span>distplot(dataset[<span style="color:#e6db74">&#39;yearOfRegistration&#39;</span>], ax<span style="color:#f92672">=</span>ax)
ax<span style="color:#f92672">.</span>set_title(<span style="color:#e6db74">&#39;Distribution of vehicules based on year of registration&#39;</span>)
plt<span style="color:#f92672">.</span>ylabel(<span style="color:#e6db74">&#39;Density&#39;</span>)
plt<span style="color:#f92672">.</span>xlabel(<span style="color:#e6db74">&#39;Year of Registration&#39;</span>)
plt<span style="color:#f92672">.</span>show()
</code></pre></div><p><img src="/eda-cars-data-analysis-images/output_25_0.png" alt="png"></p>
<p>To complement the plot above we can see the frequency of car by years grouped in chunks of 5 years as presented in the table below:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">bins <span style="color:#f92672">=</span> list(range(<span style="color:#ae81ff">1900</span>,<span style="color:#ae81ff">2021</span>,<span style="color:#ae81ff">5</span>))
out <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>cut(dataset<span style="color:#f92672">.</span>yearOfRegistration, bins<span style="color:#f92672">=</span>bins)
counts <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>value_counts(out)<span style="color:#f92672">.</span>sort_index()

<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;YEAR INTERVAL</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">FREQUENCY&#39;</span>)
<span style="color:#66d9ef">print</span>(counts)
</code></pre></div><pre><code>YEAR INTERVAL	FREQUENCY
(1900, 1905]        0
(1905, 1910]       98
(1910, 1915]        1
(1915, 1920]        1
(1920, 1925]        3
(1925, 1930]       10
(1930, 1935]       10
(1935, 1940]       17
(1940, 1945]       15
(1945, 1950]       20
(1950, 1955]       41
(1955, 1960]      233
(1960, 1965]      252
(1965, 1970]      650
(1970, 1975]      765
(1975, 1980]     1393
(1980, 1985]     2047
(1985, 1990]     6086
(1990, 1995]    23454
(1995, 2000]    90309
(2000, 2005]    99213
(2005, 2010]    67645
(2010, 2015]    13126
(2015, 2020]     8084
Name: yearOfRegistration, dtype: int64
</code></pre>
<p>From the plot and table above we can see that the majority of cars are from the years 1990 to 2010. An interesting fact, we have almost one hundred cars registered between 1905 and 1910.</p>
<h3 id="2-what-is-the-variation-of-the-price-range-by-type-of-vehicle">2) What is the Variation of the price range by type of vehicle?</h3>
<p>So, let&rsquo;s see the types of vehicles in the dataset:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">print</span>(dataset<span style="color:#f92672">.</span>vehicleType<span style="color:#f92672">.</span>unique())
</code></pre></div><pre><code>['kleinwagen' 'kombi' 'cabrio' 'suv' 'limousine' 'Other' 'bus' 'coupe'
 'andere']
</code></pre>
<p>For this analysis we will create a Boxplot that shows the variation and outliers (atypical value) of the data.</p>
<p>The figure below explain the information provided by a boxplot.</p>
<p><img src="images/boxplot.png" alt="title"></p>
<p>Once we understand the boxplot, we can see the boxplots for the price range for each type of vehicle.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">fig, ax <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>subplots(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">12</span>,<span style="color:#ae81ff">8</span>))
sns<span style="color:#f92672">.</span>boxplot(x<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;vehicleType&#39;</span>, y<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;price&#39;</span>, data<span style="color:#f92672">=</span>dataset)
ax<span style="color:#f92672">.</span>set_xlabel(<span style="color:#e6db74">&#39;VEHICLE TYPE&#39;</span>)
ax<span style="color:#f92672">.</span>set_ylabel(<span style="color:#e6db74">&#39;PRICE&#39;</span>)
plt<span style="color:#f92672">.</span>show()
</code></pre></div><p><img src="/eda-cars-data-analysis-images/output_34_0.png" alt="png"></p>
<p>From the figure above, we can see, for example, that the median value of an <strong>SUV</strong> is 10,000, with most values between 5000 and 15000, and the maximum price is something close to 30,000.</p>
<p>Also, we can see that excluding the <strong>Other</strong> type,  <strong>kleinwagen</strong> and <strong>andere</strong> are the types of vehicles with the lowest price range.</p>
<h3 id="3-what-is-the-number-of-vehicles-for-selling-by-type-of-vehicle">3) What is the number of vehicles for selling by type of vehicle?</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># Create a count plot that shows the number of vehicles belonging to each category</span>
g <span style="color:#f92672">=</span> sns<span style="color:#f92672">.</span>factorplot(x<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;vehicleType&#39;</span>, data<span style="color:#f92672">=</span>dataset, kind<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;count&#39;</span>, size<span style="color:#f92672">=</span><span style="color:#ae81ff">6</span>, aspect<span style="color:#f92672">=</span><span style="color:#ae81ff">1.5</span>, palette<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;BuPu&#34;</span>)
g<span style="color:#f92672">.</span>set_xlabels(<span style="color:#e6db74">&#39;VEHICLE TYPE&#39;</span>)
g<span style="color:#f92672">.</span>set_ylabels(<span style="color:#e6db74">&#39;COUNT&#39;</span>)
g<span style="color:#f92672">.</span>ax<span style="color:#f92672">.</span>set_title(<span style="color:#e6db74">&#39;Number of vehicles belonging to each category&#39;</span>)

<span style="color:#75715e"># to get the counts on the top heads of the bar</span>
<span style="color:#66d9ef">for</span> p <span style="color:#f92672">in</span> g<span style="color:#f92672">.</span>ax<span style="color:#f92672">.</span>patches:
    g<span style="color:#f92672">.</span>ax<span style="color:#f92672">.</span>annotate((p<span style="color:#f92672">.</span>get_height()), (p<span style="color:#f92672">.</span>get_x()<span style="color:#f92672">+</span><span style="color:#ae81ff">0.1</span>, p<span style="color:#f92672">.</span>get_height()<span style="color:#f92672">+</span><span style="color:#ae81ff">500</span>))
</code></pre></div><p><img src="/eda-cars-data-analysis-images/output_37_0.png" alt="png"></p>
<p>From the figure above we see that the <em>limousine</em> is the top type of car for selling, and the <em>andere</em> has the least amount of cars for sale.</p>
<h3 id="4-how-many-vehicles-belong-to-each-brand">4) How many vehicles belong to each brand?</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># Create a plot that shows the number of vehicles for each brand</span>
sns<span style="color:#f92672">.</span>set_style(<span style="color:#e6db74">&#39;whitegrid&#39;</span>)
g <span style="color:#f92672">=</span> sns<span style="color:#f92672">.</span>factorplot(y<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;brand&#34;</span>, data<span style="color:#f92672">=</span>dataset, kind<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;count&#34;</span>, palette<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Reds_r&#39;</span>, size<span style="color:#f92672">=</span><span style="color:#ae81ff">8</span>, aspect<span style="color:#f92672">=</span><span style="color:#ae81ff">1.5</span>)
g<span style="color:#f92672">.</span>ax<span style="color:#f92672">.</span>set_title(<span style="color:#e6db74">&#39;Number of vehicles for each brand&#39;</span>)
g<span style="color:#f92672">.</span>ax<span style="color:#f92672">.</span>xaxis<span style="color:#f92672">.</span>set_label_text(<span style="color:#e6db74">&#34;NUMBER OF VEHICLES&#34;</span>, fontdict<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;size&#39;</span>:<span style="color:#ae81ff">18</span>})
g<span style="color:#f92672">.</span>ax<span style="color:#f92672">.</span>yaxis<span style="color:#f92672">.</span>set_label_text(<span style="color:#e6db74">&#34;BRAND&#34;</span>, fontdict<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;size&#39;</span>:<span style="color:#ae81ff">18</span>})
plt<span style="color:#f92672">.</span>show()
</code></pre></div><p><img src="/eda-cars-data-analysis-images/output_40_0.png" alt="png"></p>
<p>From the plot, we see that Volkswagen has the majority of cars for selling.</p>
<h3 id="5-what-are-the-average-vehicle-price-based-on-the-type-of-vehicle-and-the-type-of-gearbox">5) What are the average vehicle price based on the type of vehicle and the type of gearbox?</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">fig, ax <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>subplots(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">6</span>))
sns<span style="color:#f92672">.</span>barplot(x<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;vehicleType&#39;</span>, y<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;price&#39;</span>, hue<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;gearbox&#39;</span>, data<span style="color:#f92672">=</span>dataset)
ax<span style="color:#f92672">.</span>set_title(<span style="color:#e6db74">&#34;Mean price of vehicles by brand and gearbox&#34;</span>)
ax<span style="color:#f92672">.</span>set_xlabel(<span style="color:#e6db74">&#34;VEHICLE TYPE&#34;</span>)
ax<span style="color:#f92672">.</span>set_ylabel(<span style="color:#e6db74">&#34;MEAN PRICE&#34;</span>)
plt<span style="color:#f92672">.</span>show()
</code></pre></div><p><img src="/eda-cars-data-analysis-images/output_43_0.png" alt="png"></p>
<p>From the plot, we see that automatic SUV has the higher mean price.</p>
<h3 id="6-what-is-the-average-vehicle-price-based-on-the-type-of-fuel-and-the-type-of-gearbox">6) What is the average vehicle price based on the type of fuel and the type of gearbox?</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">fig, ax <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>subplots(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">6</span>))
sns<span style="color:#f92672">.</span>barplot(x<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;fuelType&#39;</span>, y<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;price&#39;</span>, hue<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;gearbox&#39;</span>, palette<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;husl&#39;</span>, data<span style="color:#f92672">=</span>dataset)
ax<span style="color:#f92672">.</span>set_title(<span style="color:#e6db74">&#34;Mean price of vehicles by fuel and gearbox types&#34;</span>)
ax<span style="color:#f92672">.</span>set_xlabel(<span style="color:#e6db74">&#34;FUEL TYPE&#34;</span>)
ax<span style="color:#f92672">.</span>set_ylabel(<span style="color:#e6db74">&#34;MEAN PRICE&#34;</span>)
plt<span style="color:#f92672">.</span>show()
</code></pre></div><p><img src="/eda-cars-data-analysis-images/output_46_0.png" alt="png"></p>
<p>From the plot, we see that hybrids and automatic cars have the higher mean price.</p>
<h3 id="7-what-is-the-average-power-of-a-vehicle-by-type-of-vehicle-and-type-of-gearbox">7) What is the average power of a vehicle by type of vehicle and type of gearbox?</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">fig, ax <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>subplots(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">6</span>))
sns<span style="color:#f92672">.</span>barplot(x<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;vehicleType&#39;</span>, y<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;powerPS&#39;</span>, hue<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;gearbox&#39;</span>, palette<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;husl&#39;</span>, data<span style="color:#f92672">=</span>dataset)
ax<span style="color:#f92672">.</span>set_title(<span style="color:#e6db74">&#34;Mean power of vehicles by type and gearbox&#34;</span>)
ax<span style="color:#f92672">.</span>set_xlabel(<span style="color:#e6db74">&#34;VEHICLE TYPE&#34;</span>)
ax<span style="color:#f92672">.</span>set_ylabel(<span style="color:#e6db74">&#34;MEAN POWER&#34;</span>)
plt<span style="color:#f92672">.</span>show()
</code></pre></div><p><img src="/eda-cars-data-analysis-images/output_49_0.png" alt="png"></p>
<p>From the plot, we see that automatic SUVs cars have the higher mean power.</p>
<h3 id="8-what-is-the-average-price-of-a-vehicle-by-brand-and-type-of-vehicle">8) What is the average price of a vehicle by brand and type of vehicle?</h3>
<p>To answer this question, let&rsquo;s use a heat map, that is a graphical representation of data where the individual values contained in a matrix are represented as colors.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># Computes the mean average price per brand and type</span>
trial <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame()
<span style="color:#66d9ef">for</span> b <span style="color:#f92672">in</span> list(dataset[<span style="color:#e6db74">&#34;brand&#34;</span>]<span style="color:#f92672">.</span>unique()):
    <span style="color:#66d9ef">for</span> v <span style="color:#f92672">in</span> list(dataset[<span style="color:#e6db74">&#34;vehicleType&#34;</span>]<span style="color:#f92672">.</span>unique()):
        z <span style="color:#f92672">=</span> dataset[(dataset[<span style="color:#e6db74">&#34;brand&#34;</span>] <span style="color:#f92672">==</span> b) <span style="color:#f92672">&amp;</span> (dataset[<span style="color:#e6db74">&#34;vehicleType&#34;</span>] <span style="color:#f92672">==</span> v)][<span style="color:#e6db74">&#34;price&#34;</span>]<span style="color:#f92672">.</span>mean()
        trial <span style="color:#f92672">=</span> trial<span style="color:#f92672">.</span>append(pd<span style="color:#f92672">.</span>DataFrame({<span style="color:#e6db74">&#39;brand&#39;</span>:b , <span style="color:#e6db74">&#39;vehicleType&#39;</span>:v , <span style="color:#e6db74">&#39;avgPrice&#39;</span>:z}, index<span style="color:#f92672">=</span>[<span style="color:#ae81ff">0</span>]))
        
trial <span style="color:#f92672">=</span> trial<span style="color:#f92672">.</span>reset_index()
<span style="color:#66d9ef">del</span> trial[<span style="color:#e6db74">&#34;index&#34;</span>]
trial[<span style="color:#e6db74">&#34;avgPrice&#34;</span>]<span style="color:#f92672">.</span>fillna(<span style="color:#ae81ff">0</span>,inplace<span style="color:#f92672">=</span>True)
trial[<span style="color:#e6db74">&#34;avgPrice&#34;</span>]<span style="color:#f92672">.</span>isnull()<span style="color:#f92672">.</span>value_counts()
trial[<span style="color:#e6db74">&#34;avgPrice&#34;</span>] <span style="color:#f92672">=</span> trial[<span style="color:#e6db74">&#34;avgPrice&#34;</span>]<span style="color:#f92672">.</span>astype(int)

<span style="color:#75715e"># Create a Heatmap with Average price of one vehicle per brand, as well as type of vehicle</span>
tri <span style="color:#f92672">=</span> trial<span style="color:#f92672">.</span>pivot(<span style="color:#e6db74">&#34;brand&#34;</span>,<span style="color:#e6db74">&#34;vehicleType&#34;</span>, <span style="color:#e6db74">&#34;avgPrice&#34;</span>)
fig, ax <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>subplots(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">15</span>,<span style="color:#ae81ff">20</span>))
sns<span style="color:#f92672">.</span>heatmap(tri,linewidths<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>,cmap<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;YlGnBu&#34;</span>,annot<span style="color:#f92672">=</span>True, ax<span style="color:#f92672">=</span>ax, fmt<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;d&#34;</span>)
ax<span style="color:#f92672">.</span>set_title(<span style="color:#e6db74">&#34;Heatmap - Average price of one vehicle per brand and type of vehicle&#34;</span>,fontdict<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;size&#39;</span>:<span style="color:#ae81ff">20</span>})
ax<span style="color:#f92672">.</span>xaxis<span style="color:#f92672">.</span>set_label_text(<span style="color:#e6db74">&#34;VEHICLE TYPE&#34;</span>,fontdict<span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;size&#39;</span>:<span style="color:#ae81ff">20</span>})
ax<span style="color:#f92672">.</span>yaxis<span style="color:#f92672">.</span>set_label_text(<span style="color:#e6db74">&#34;BRAND&#34;</span>,fontdict<span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;size&#39;</span>:<span style="color:#ae81ff">20</span>})
plt<span style="color:#f92672">.</span>show()
</code></pre></div><p><img src="/eda-cars-data-analysis-images/output_52_0.png" alt="png"></p>
<p>From the heat map above we see that SUV by Audi has the higher average price.</p>
<h1 id="final-remarks">Final Remarks</h1>
<p>This project presented a exploratory data analysis of a database of used cars scraped from eBay Kleinanzeigen.</p>
<p>A data cleaning process was peformed and several questions were answers through advanced visualizations.</p>

                </div>
                
                <div class="post-comments">
                    
                </div>
                
            </div>
            <footer class="footer text-center">
<p>Copyright &copy; 2021 Patrick Alves -
<span class="credit">
	Powered by
	<a target="_blank" href="https://gohugo.io">Hugo</a>
	.
</span>
</p>
</footer>

        </div>
    </body>
